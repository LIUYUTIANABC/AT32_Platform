//----------------------------------------------------------------------------------
// File Name: adc.base.h
// Create Date: 2023-03-18 16:56:24
// Developer: Rick Liu
// Version: 1.0.0
// Copyright: 2023. Dongguan Evolt Electronics Co., Ltd. All Rights Reserved
// Comment:
//----------------------------------------------------------------------------------
#ifndef __ADC_BASE_H
#define __ADC_BASE_H

//----------------------------------------------------------------------------------
// Include file
//----------------------------------------------------------------------------------
#include "..\test_adc_config.h"

//----------------------------------------------------------------------------------
// Define and config
//----------------------------------------------------------------------------------
#define ADC_INTERNAL_VREF_MV (1200)
#define ADC_RESOLUTION (4096)

//----------------------------------------------------------------------------------
// enum; struct; union; typedef;
//----------------------------------------------------------------------------------
typedef __PACKED_UNION
{
    __IO uint8_t all;
    __PACKED_STRUCT
    {
        __IO uint8_t adcDmaCompleteFlag : 1;
        __IO uint8_t reserved : 7; /* [7:1] */
    } bits;
} AdcFlags_T;

//----------------------------------------------------------------------------------
// Global variables
//----------------------------------------------------------------------------------

//----------------------------------------------------------------------------------
// Static variables (this file)
//----------------------------------------------------------------------------------

//----------------------------------------------------------------------------------
// Function prototypes
//----------------------------------------------------------------------------------
uint32_t GetAdcVerfVoltage_mV(void);
uint32_t GetAdcLuxVoltage_mV(void);
void AdcAverageProcess(void);
void AdcDmaISR(void);
void AdcLuxDmaInterruptInit(void);

#endif
